- ### **分布式和集群的区别**

分布式是集群，集群不⼀定是分布式（分布式是一个系统拆分多个实例，集群是多个实例一起工作）。

<img src="C:\Users\12031\AppData\Roaming\Typora\typora-user-images\image-20200913111157886.png" alt="image-20200913111157886" style="zoom:80%;" />

## ⼀致性Hash算法

- ### 如何防止数据库中的信息被“脱库”？

  脱库：是指黑客入侵有价值的网络站点,把注册用户的资料数据库全部盗走的行为。
  
  可以将密码加密（使用SHA，MD5据说被破解）后存储。但是仅仅加密不行，黑客可能使用常用的方式来破解（很多人习惯用00000，123456等方式组合做密码）。于是加**盐（salt）**能有效解决。但也不是绝对，只是增加攻击成本而已。
  
- ### SHA和MD5、盐salt、RSA

  区别：
  
  ```java
  //MD5加密demo
  private final static String encodeMd5(String s) {
          char hexDigits[] = {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9',
                  'A', 'B', 'C', 'D', 'E', 'F'};
          try {
              byte[] btInput = s.getBytes();
              MessageDigest mdInst = MessageDigest.getInstance("MD5");
              mdInst.update(btInput);
              byte[] md = mdInst.digest();
              int j = md.length;
              char str[] = new char[j * 2];
              int k = 0;
              for (int i = 0; i < j; i++) {
                  byte byte0 = md[i];
                  str[k++] = hexDigits[byte0 >>> 4 & 0xf];
                  str[k++] = hexDigits[byte0 & 0xf];
              }
              return new String(str);
          } catch (Exception e) {
              e.printStackTrace();
              return null;
          }
      }
  ```
  
  
  
- ### 什么是hash算法？

  1. hash意思是”切碎并搅拌“，哈希函数的运算结果就是哈希值，通常简称为哈希。哈希函数也叫散列函数，**一个可靠的哈希算法要满足三点**：
  
     - 单向：M能算出哈希值X，X不能算出M；
     - 两个不同的数据拥有不同哈希值；
     - 不管输入是多大的数据，输出长度都是固定的；
  
  2. 哈希的长度是固定的,取值范围是有限的,输入数据的取值范围是无限的,会出现碰撞，不同的哈希算法，哈希位数越多，也就基本意味着安全级别越高，或者说它的”抗碰撞性“就越好。
  
  3. 哈希函数分为两大类，一类是普通哈希，另外一类是加密哈希，两个区别是只有安全度高的哈希算法才能用作加密哈希。
  
  4. **hash算法常见应用**
  
     - 安全加密（比如MD5 、SHA，使用它加密优点是很难反向推到，冲突概率小）
  
     - 唯一标识：比如运用查找图库中是否存在某张图片：通过图片信息加密得到唯一标识（就是哈希字符串），下次通过唯一标识来判定判定图片是否在图库中，可以减少很多工作量。满足以上条件，还可以把图片路径信息，存储在散列表中。通过散列表中存储的文件路径，获取到这个已经存在的图片。
       跟现在要插入的图片做全量的比对，看是否完全一样。如果一样，就说明已经存在；如果不一样，说明两张图片尽管唯一标识相同，但是并不是相同的图片。
  
     - 数据校验：
  
       BT下载时，文件可能分成很多文件块，并行的下载完成后需要将文件块组装。
       组装时需要校验文件块是否完整或是否正确，避免下载出错或被恶意篡改。
  
       一种校验思路：
       对所有文件块取哈希值，保存在种子中。
       下载完成后，逐一对文件块的哈希值进行比对。
       如果不同，则需要重新从其他宿主机器上下载这个文件块。
  
     - 散列函数：
  
       散列函数其实也是哈希算法的一种应用。
       散列函数是设计一个散列表的关键。
       散列函数中用到的散列算法，更加关注**散列后的值是否能平均分布，以及执行效率**。
  
     - 负载均衡
  
     - 数据分片
  
     - 分布式存储
  
       https://blog.csdn.net/sscc_learning/article/details/88658511
  
- ### 什么是Hash表？

  hash值存储结构的数据结构称为散列表，或者叫哈希表
  
- ### **为什么需要使用Hash?**

  Hash算法较多的应用在数据存储和查找领域，最经典的就是Hash表，查询效率高。哈希算法如果设计的比较ok的话，那么Hash表的数据查询时间复杂度可以接近于O(1)。
  
- ### **普通查询算法种类？**

1. **顺序查找法：**遍历有和要找的参数相等就找到了。（缺点：效率不高）
2. **二分查找法：**从中间找，比参数小则往右边，大就往左边，再对半找。（缺点：效率不高）
3. **直接寻址法：**根据最大值定义数组长度，根据找到数组下标和待放入参数值一样的位置放入参数。（缺点：其中一个数很大，会浪费空间）
4. **除留余数法：**将待放入参数与数组长度求余，放入数组余数下标对应位置。（缺点：会出现hash冲突）
5. **开放寻址法：**除留余数法的改进，出现冲突向前或者向后找空闲位置存放（缺点：数组没有空闲位置会出错）
6. **拉链法：**除留余数法基础上出现冲突，将冲突的数纵向放置一个链表，如图1.1。

![image-20200913111509945](C:\Users\12031\AppData\Roaming\Typora\typora-user-images\image-20200913111509945.png)

图1.1

